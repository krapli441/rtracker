<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>복싱 라운드 트래커</title>
    <link rel="stylesheet" href="styles/main.css" />
    <style>
      /* 스펙트럼 분석 관련 스타일 */
      .frequency-controls {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-top: 8px;
      }
      .frequency-btn {
        padding: 4px 8px;
        background-color: #555;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 0.8rem;
      }
      .frequency-btn.active {
        background-color: #007bff;
      }
      .frequency-info {
        margin-top: 8px;
        font-size: 0.9rem;
        background-color: rgba(0, 0, 0, 0.1);
        padding: 8px;
        border-radius: 4px;
      }
      #waveform {
        width: 100%;
        height: 150px;
        background-color: #1a1a1a;
        margin-bottom: 8px;
        border-radius: 4px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>복싱 라운드 트래커</h1>
      </header>

      <main>
        <div class="upload-section">
          <button id="select-video-btn" class="primary-btn">
            비디오 파일 선택
          </button>
          <div id="selected-file-info" class="file-info hidden">
            <span id="file-name"></span>
            <span id="file-duration"></span>
          </div>
        </div>

        <div id="video-container" class="hidden">
          <video id="video-player" controls></video>

          <div class="video-controls">
            <button id="play-pause-btn" class="control-btn">
              재생/일시정지
            </button>
            <div class="timeline-container">
              <input
                type="range"
                id="video-timeline"
                min="0"
                max="100"
                value="0"
                step="0.1"
              />
              <span id="current-time">00:00</span> /
              <span id="total-time">00:00</span>
            </div>
          </div>

          <!-- 스펙트럼 분석 컨테이너 -->
          <div id="waveform-container" class="waveform-container">
            <h3>주파수 스펙트럼 분석</h3>
            <!-- 캔버스 요소가 여기에 동적으로 추가됨 -->
            <div id="waveform"></div>

            <!-- 주파수 필터 컨트롤 -->
            <div class="frequency-controls">
              <button id="filter-all" class="frequency-btn active">
                전체 주파수
              </button>
              <button id="filter-bell" class="frequency-btn">
                종소리 주파수 (700-1200Hz)
              </button>
              <button id="filter-low" class="frequency-btn">
                저주파 (0-500Hz)
              </button>
              <button id="filter-mid" class="frequency-btn">
                중주파 (500-2000Hz)
              </button>
              <button id="filter-high" class="frequency-btn">
                고주파 (2000Hz+)
              </button>
            </div>

            <!-- 주파수 정보 표시 -->
            <div class="frequency-info">
              <div>
                피크 주파수: <span id="peak-frequency">0 Hz</span> (강도:
                <span id="peak-intensity">0</span>)
              </div>
              <div>
                종소리 감지: <span id="bell-detection">감지되지 않음</span>
              </div>
            </div>

            <div class="waveform-controls">
              <button id="zoom-in-btn" class="control-btn">확대</button>
              <button id="zoom-out-btn" class="control-btn">축소</button>
            </div>
          </div>
        </div>
      </main>
    </div>

    <script src="renderer.js"></script>
  </body>
</html>
